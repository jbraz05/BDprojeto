<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Cadastro de Localização de Atuação</title>
</head>
<body>
    <h1>Cadastro de Localização</h1>

    <form id="localizacaoForm">
        <label>Código:</label><br>
        <input type="text" name="codigo" required><br><br>

        <label>Nome do País:</label><br>
        <input type="text" name="nomePais" required><br><br>

        <label>Nome do Estado:</label><br>
        <input type="text" name="nomeEstado" required><br><br>

        <label>Região:</label><br>
        <input type="text" name="regiao" required><br><br>

        <button type="submit">Cadastrar</button>
    </form>

    <div id="resultado"></div>

    <script>
        document.getElementById("localizacaoForm").addEventListener("submit", function(event) {
            event.preventDefault();

            const dados = {
                codigo: event.target.codigo.value,
                nomePais: event.target.nomePais.value,
                nomeEstado: event.target.nomeEstado.value,
                regiao: event.target.regiao.value
            };

            fetch("/localizacao/cadastrar", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(dados)
            })
            .then(res => res.text())
            .then(msg => {
                document.getElementById("resultado").innerText = msg;
            })
            .catch(err => {
                document.getElementById("resultado").innerText = "Erro ao cadastrar: " + err;
            });
        });
    </script>
</body>
</html>
